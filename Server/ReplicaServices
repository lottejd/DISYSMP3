package main

import (
	
)

func EvalPort(conn *grpc.ClientConn) int32 {
	var port int32
	if conn.GetState().String() != connectionNil {
		client := Replica.NewReplicaServiceClient(conn)
		response, _ := client.CreateNewReplica(context.Background(), &Replica.EmptyRequest{})
		port = response.GetPort()
	} else {
		port = serverPort
	}
	return port
}
